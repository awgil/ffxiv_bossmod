autorotation v2 cleanup:
- rmm in replay analysis
-- castinfo should contain elapsed/total with tick
-- commonstate.animlock from player's cast info and clientstate animlock
-- commonstate.animlockdelay externally supplied to rmm's update
-- commonstate.gcdtime from ?? (stats?)
-- xbase.forcemovementin from ?? (hints?)
-- get rid of actionmanager in rmm
- preset/plan editors should properly react to external changes
- ipc for autorotation
- actiondefinitions
-- action transforms?.. (combos, adjustment)
-- adjusted casttime/cooldown/maxcharges/???
- ai features
-- legacy ai rotation modules (auto stance, interrupt, taunt, etc)
-- target selection should be part of a module/preset
-- ai manager should use selected preset for combat, out of combat use forcedtarget
- action history/queue visualization
- proper gcd time calculations?
- simulation in replay analysis
- spell out shared cooldowns in actiondefinitions comments instead of group?
- delete/rework commonstate/legacy
- delete autorotationlegacy dir

general:
- module packs
-- dlls, loaded as usual
-- hotreload - just discard old version and load new one
-- distributed as github releases, on startup query latest version and download if different
-- rate limit gh requests to 1/hour
-- dialog to add warns about arbitrary code execution
-- update bm/rm registries on reload
- add non-entities to worldstate
- proper logging
- consistently use Color instead of uint
- horizontal timeline / cooldown planner
- refactor window system to dispose stuff properly and avoid CS1806 and `_ = new...` pattern
- diagnostic to detect readonly mutable collections
- introduce 'Game' class that would contain dalamud services and stuff like AMEx/IDScramble, instead of statics, to avoid uncontrolled access to game state (won't help with CS tho)
- autoreplay improvements - react to module manager transitions?
- better timing tracking for: statuses, gauges, cooldowns, cast times, anim lock, ...
- constrain bossmodules to zone id (e.g. for T04)
- revise module categories - consider merging fates/hunts/quests/gold saucer?/pvp? into outdoor?/casual?
- refactor pendingeffects
- utility to inject custom ipcs to the stream for debugging?
- better aoe targeting
-- improve forbidden classification
--- target absolutely forbidden to damage (eg tea doll, t01 blob, outdoor enemy that wasn't pulled yet)
--- target is invulnerable, hitting it is a complete waste, won't advance combo/apply buffs/etc
--- target is at 1hp, damage will be dealt but won't be logged, might be worth hitting for gauge or combo advance
--- target can be damaged but it won't contribute to fight progress or log (various pointless adds)
--- target is not a priority, but damaging it is a nice bonus (lower priority than max target)
-- use that for targeting utils in aihints

boss modules:
- timers
- wipe should not fast forward all phases
- fail log
- boss module config presets/profiles

autorotation:
- dot/regen server tick tracking
- brd
-- aoe rotation (2/3/4+ targets, barrage usage)
-- take traits into account (ij proccing rs, ea proccing repertoire)
- drg
-- priorities...
-- dragon sight is a true north
-- cd planning
- war
-- simulate gauge changes (message can arrive few frames after ActionEffect...)
-- low-level rotation - improve berserk delay logic
- whm:
-- resurrect (6.1 and later changes)
-- planner
-- smart-targeting for ST actions

ai:
- improve healing AI: analyze incoming dps
- movement: know time left, distance to travel => decide whether to swiftcast or slidecast or use movement rotation

world rendering:
- danger zones (modify action vfx?)
- arrows

replay encounter analysis:
- tether & debuff passing range
- pull range

misc:
- memory show/watch utility
- clip circles to arena bounds...
- draw target max-melee and boss positioning hints?..
- assignments/config sharing (webservice?)

notes on targeting:
- aoe (e.g. cone) will hit if shape intersects target's hitbox; for players it is == 0.5
- max melee range is raw range (usually 3) + source hitbox radius + target hitbox radius; for players this usually means 3.5 + target hitbox
- charge/onslaught will bring player to source hitbox radius + target hitbox radius range, or leave in place if current distance is less
